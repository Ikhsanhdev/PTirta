@using TirtaRK.Helpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - PT Tirta Rekayasa Konsultan</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @* <link rel="stylesheet" href="~/Higertech.styles.css" asp-append-version="true" /> *@

    <link href="~/assets/img/tir.png" rel="icon">
    <link href="~/assets/img/tir.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="~/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="~/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="~/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="~/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="~/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="~/assets/css/main.css" rel="stylesheet">

    <style>
        .social-links a {
            font-size: 24px; /* Ukuran ikon */
            margin-right: 10px;
            transition: color 0.3s ease-in-out;
        }

        .social-links a .bi-whatsapp {
            color: #25D366; /* Warna hijau WhatsApp */
        }

        .social-links a .bi-instagram {
            color: #E4405F; /* Warna merah muda Instagram */
        }

        .social-links a .bi-youtube {
            color: #FF0000; /* Warna merah YouTube */
        }
    </style>
</head>
<body>
    <header id="header" class="header d-flex align-items-center fixed-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
            <a class="navbar-brand" asp-area="" asp-controller="Main" asp-action="Index">
                <!-- Uncomment the line below if you also wish to use an image logo -->
                @* <h1>PT Tirta Rekayasa Konsultan</h1> *@
                <img src="@Url.Content("~/assets/img/tirta.png")" alt="Higertech Logo" style="height: auto; max-height: 50px;">
                <!-- <h1 class="sitename">UpConstruction</h1> <span>.</span> -->
            </a>

            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a asp-area="" asp-controller="Main" asp-action="Index">Home</a></li>
                    @* <li><a href="#https://e-katalog.lkpp.go.id/katalog/produk/detail/78863377?lang=id&type=general">E-Catalog</a></li> *@
                    <li><a sp-area="" asp-controller="Product" asp-action="Index">Product</a></li>
                    @* <li><a sp-area="" asp-controller="Activity" asp-action="Index">Portofolio</a></li> *@
                    @* <li><a sp-area="" asp-controller="Article" asp-action="Index">Article</a></li> *@
                    @* <li><a asp-area="" asp-controller="Main" asp-action="MapGoogle">Peta</a></li> *@
                    @* <li class="dropdown"><a href=""><span>Informasi</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="">Dropdown 1</a></li>
                            <li><a href="">Dropdown 2</a></li>
                            <li><a href="">Dropdown 3</a></li>
                            <li><a href="">Dropdown 4</a></li>
                        </ul>
                    </li> *@
                    @* <li><a href="https://api.whatsapp.com/send/?phone=628112332182&text&type=phone_number&app_absent=0" target="_blank" rel="noopener noreferrer">Contact</a></li> *@
                    @* @if (string.IsNullOrEmpty(ClaimIdentity.Username)) {
                        <li><a href="/Auth/Login">Login</a></li>
                    } else {
                        <li><button type="button" class="admin btn border border-dark rounded" style="hover" onClick="window.location.href='/Admin'"><a class="">ADMIN</a></button></li>
                    } *@
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>
        </div>
    </header>

    @* <div class="container"> *@
        <main role="main" class="pb-3 main">
            @RenderBody()
        </main>
    @* </div> *@
    @if (ViewData["HideFooter"] == null || !(bool)ViewData["HideFooter"])
    {
        <footer id="footer" class="footer dark-background">
            <div class="container footer-top">
                <div class="row gy-4">
                    <div class="col-lg-4 col-md-6 footer-about">
                            <a class="footer-brand logo">
                                <img src="@Url.Content("~/assets/img/tirta.png")" alt="Higertech Logo">
                            </a>
                            <div class="footer-contact pt-3" style="color: white;">
                                <p id="footer-address"></p>
                                <p id="footer-phone"></p>
                                <p id="footer-email"></p>
                            </div>
                            <div id="footer-social-links" class="social-links d-flex mt-4">
                            </div>
                        </div>

                    @* <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Useful Links</h4>
                        <ul>
                            <li><a href="#">Home</a></li>
                            <li><a href="#">About us</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">Terms of service</a></li>
                            <li><a href="#">Privacy policy</a></li>
                        </ul>
                    </div> *@

                    <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Our Services</h4>
                        <ul>
                            <li><a href="#">Web Design</a></li>
                            <li><a href="#">Web Development</a></li>
                            <li><a href="#">Product Management</a></li>
                            <li><a href="#">Marketing</a></li>
                            <li><a href="#">Graphic Design</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="container copyright text-center mt-4">
                <p>Copyright <span>©</span> <span>
                      <script>
                            document.write(new Date().getFullYear())
                        </script>
                </span> <strong class="px-1 sitename">PT Tirta Rekayasa Konsultan</strong></p>
                @* <div class="credits">
                    <!-- All the links in the footer should remain intact. -->
                    <!-- You can delete the links only if you've purchased the pro version. -->
                    <!-- Licensing information: https://bootstrapmade.com/license/ -->
                    <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
                    Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                </div> *@
            </div>
        </footer>
    }

    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/pages/global.min.js" asp-append-version="true"></script>

    <script src="~/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/vendor/php-email-form/validate.js"></script>
    <script src="~/assets/vendor/aos/aos.js"></script>
    <script src="~/assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="~/assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="~/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="~/assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="~/assets/vendor/purecounter/purecounter_vanilla.js"></script>

    <!-- Main JS File -->
    <script>
            document.addEventListener("DOMContentLoaded", function () {
                fetch("/get-footer") // Menggunakan relative URL agar fleksibel
                    .then(response => response.json())
                    .then(data => {
                        // Menampilkan data kontak
                        document.getElementById("footer-address").textContent = data.contact.address || "-";
                        document.getElementById("footer-phone").innerHTML = `<strong>Phone:</strong> <span>${data.contact.phone || "-"}</span>`;
                        document.getElementById("footer-email").innerHTML = `<strong>Email:</strong> <span>${data.contact.email || "-"}</span>`;

                        // Menampilkan link sosial media
                        const socialContainer = document.getElementById("footer-social-links");
                        socialContainer.innerHTML = ""; // Kosongkan elemen sebelum diisi ulang

                        Object.keys(data.social_links).forEach(key => {
                            // Skip jika key adalah "whatsapp1"
                            if (key === "whatsapp1") {
                                return; // Lewati iterasi ini
                            }
                            
                            console.log("aa", key);
                            let iconClass = `bi bi-${key}`;
                            let linkElement = document.createElement("a");
                            linkElement.href = data.social_links[key];
                            linkElement.target = "_blank";
                            linkElement.rel = "noopener noreferrer";
                            linkElement.innerHTML = `<i class="${iconClass}"></i>`;
                            socialContainer.appendChild(linkElement);

                            // Tambahkan WhatsApp fixed button jika key adalah whatsapp
                            if (key === "whatsapp") {
                                // Buat elemen WhatsApp floating button
                                const whatsappButton = document.createElement("a");
                                whatsappButton.href = data.social_links[key];
                                whatsappButton.target = "_blank";
                                whatsappButton.rel = "noopener noreferrer";
                                whatsappButton.className = "whatsapp-float";
                                whatsappButton.innerHTML = `<i class="bi bi-whatsapp"></i>`;
                                
                                // Tambahkan ke body
                                document.body.appendChild(whatsappButton);
                            }
                        });
                    })
                    .catch(error => console.error("Error fetching data:", error));
                
                // Tambahkan CSS untuk WhatsApp floating button
                const styleElement = document.createElement("style");
                styleElement.textContent = `
                    .whatsapp-float {
                        position: fixed;
                        width: 50px;
                        height: 50px;
                        bottom: 80px;
                        right: 20px;
                        background-color: #25d366;
                        color: #FFF;
                        border-radius: 50px;
                        text-align: center;
                        font-size: 30px;
                        box-shadow: 2px 2px 3px #999;
                        z-index: 100;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        text-decoration: none;
                    }
                    
                    .whatsapp-float:hover {
                        background-color: #128C7E;
                    }
                `;
                document.head.appendChild(styleElement);
            });
        </script>
    <script src="~/assets/js/main.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
    @await RenderSectionAsync("Styles", required: false)
</body>
</html>